# The logging configuration. On a real server this will be a file url. e.g. file://{{ mujina_dir }}/logback.xml
logging:
  config: classpath:logback.xml

server:
  # The port to where this Spring Boot application listens to. e.g. http://localhost:{{ springapp_tcpport }}
  port: 8081
  servlet:
    # The context path of the server. You can skip this value in the overriding application.yml on the classpath
    context-path:
    session:
      # 8 hours before we time-out
      timeout: 28800

secure_cookie: false

# Identity Provider
idp:
  entity_id: http://mock-idp
  # How long the IDP metadata is valid (default 24 hours); set to an empty value for unlimited validity
  entity_descriptor_valid_until_millis: 86400000
  # base url
  base_url: http://localhost:8081
  # Private key used to sign the SAML response
  private_key: MIIEvwIBADANBgkqhkiG9w0BAQEFAASCBKkwggSlAgEAAoIBAQDQ9Pm6UAZ58ZNEiqHYyTigh87Ub5bTirnasQSfZ0qYtFSV/dUZKao4iy6RjonO9W/i2azGDFqVOdQSwtYwQTOC6/09sBamb/bfxzobNJyCS8OQnHZaM3z8onG222p+63XCZoqqzBS3XH6gF+vNkl3IA/zNrYGkHlgaBjXR0myYdT7Q9YuX0iI3dtXbtTXYx/JshsNTCerSpKkgKWQ2KcIuAcN0QdErCMn7AfmPrfV6xLEWw98WcdWjuYdDeUa1gNE+BMTMIB64K15wH4f4lmIQkpd8OxckMDc+JOXDX65y85rb/nnQNrjPiqG8+L2znj9i6K2ZE6nPzhmU9Ry9AL+JAgMBAAECggEABJwxtKExMg24+U/oCA5RIW+QSg0SjOUYZSFh2qTO10V76+7p/ZsMTkuPJzcicLkRsyBTfhobLIQrsDnxZlFQnOCZLtF8qnGOxuX7G6BinJhQfqyztW6XNm6yEhNPYJtQIY4dce0R6Zq7kMt+UG6HLajIMinUEft5Ek0/8OVoL8k03QGDMh18WwuWjvhZkYOcaeYMC/zNnLIshK72UI8xASR0F5y38sUw99ccOxupwLysDg/gtFVEEjkjI+2QS7pTpj8a/Vkfwvuw4WUD54KkwG6o0y1rTmkufn5pmDmB7V0jGitJii0r6qHTppKUMeoRmU9iLaqkM/j3m5tb4uKwQQKBgQD4pO0JxgVRRmbl0erm2HVr2Wn61zPeqaBHoFf3UPxfXbXIdZoFWHKR7vd5jR/88SMdanU2SuVTyr0zGwK26HLnXw82jMCPahROAYkZY4s8WdQQ8oHWx57WOAJj+nPALMR5tzoC19Lpe1Yv6p3t8Fmhb1Mgj6OAOWbbI3sQFkVHaQKBgQDXI3uoSmXwuz+5DcZ+xRjGmyzYaYIqwrSF0eJknUOnTXMF09P5aj/7lCoAnPYSUO3oWabEu1MSQ3lZtXZcHBXq1OztSZt4zPhETq2Sl7hnV4HEOYGSbMy1KmM7kyszCWZy7lCE0O3khW0Qvf9gcY6QC4TDP+m7B2ev49AY2p/TIQKBgQDsycOjZx1xRSaA/uRBayqHxskSxRb0mX22OJENSebNuyR+/t/q70xMhdLPwwIPlGTogpWVWsYCgjSkErkHD1890F1gibJn4ZHsp7G0qAPVOYanjQrxS7GMOFKue7j37qo9b6yjQH3vNDHj9/7mtdnlz2rOu3vthLzbPHLZ4xue4QKBgQC6UrHK+7wz9IfoxkRuEFc30rbRKvef/wcHitHu38DzCYGfv2irb1jAkv6Zj1cSX+Lbw6FKaw40GBnmFuHOPkjBG+2iSIiM47/0sMtk1V/QqJnrjv5oCTB1iqNsujXEutRun3U+wg/2RZRC1rpxFYgpusAdtaHA6FXloIDetaGL4QKBgQD2eX634thRuwU4rCAUnuCS8pSxrwSxbXwIZUiaotIxMdKyW983ntO0zrWglzT48LQ4EYsdljv92qUzrhdSQ6wZeORvKjq8HesHndrvHxRsEWSKkxw7XpvwPNYkJADqNlJ++LCvwcrUlqjz3SY+s5+gtSbV1ZHBvR3dP1QR81OyVw==
  # Public certificate to verify the signature of the SAML response
  certificate: MIIDhzCCAm+gAwIBAgIUZmC5DxE7OSh2LQx1QyaedjxE3wwwDQYJKoZIhvcNAQELBQAwUzELMAkGA1UEBhMCQ04xCzAJBgNVBAgMAlNIMREwDwYDVQQHDAhTaGFuZ2hhaTEkMCIGCSqGSIb3DQEJARYVeWljaGVuX1gxQG91dGxvb2suY29tMB4XDTI0MDYyMjEzMzc0M1oXDTI1MDYyMjEzMzc0M1owUzELMAkGA1UEBhMCQ04xCzAJBgNVBAgMAlNIMREwDwYDVQQHDAhTaGFuZ2hhaTEkMCIGCSqGSIb3DQEJARYVeWljaGVuX1gxQG91dGxvb2suY29tMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0PT5ulAGefGTRIqh2Mk4oIfO1G+W04q52rEEn2dKmLRUlf3VGSmqOIsukY6JzvVv4tmsxgxalTnUEsLWMEEzguv9PbAWpm/238c6GzScgkvDkJx2WjN8/KJxtttqfut1wmaKqswUt1x+oBfrzZJdyAP8za2BpB5YGgY10dJsmHU+0PWLl9IiN3bV27U12MfybIbDUwnq0qSpIClkNinCLgHDdEHRKwjJ+wH5j631esSxFsPfFnHVo7mHQ3lGtYDRPgTEzCAeuCtecB+H+JZiEJKXfDsXJDA3PiTlw1+ucvOa2/550Da4z4qhvPi9s54/YuitmROpz84ZlPUcvQC/iQIDAQABo1MwUTAdBgNVHQ4EFgQUm/VuCx6a068zU1GMYWD5dsVOdFkwHwYDVR0jBBgwFoAUm/VuCx6a068zU1GMYWD5dsVOdFkwDwYDVR0TAQH/BAUwAwEB/zANBgkqhkiG9w0BAQsFAAOCAQEAIEb53ZaduykKwFBoEU1PVai3xjQnooYTTlSxyBy62sPaaZpZlW42aqhWSNF3XroMfVmeQDC7I5qV4jM9Ulz72/zF94TPvWNp43LTxHFA9giqpD/NEJbtxXkQ+PuscdhArpQwfLW6e00HpG8F2GG2R77ZR05OKil7UCFUHJjerpgf/pId2ghgDySf+woB6BOFl25Cr6jDf4fC+MmXdUJyl6KHAB+GeLuJyTLuPcye5kkMj9mA48a35QrkExfP38F10kee02Ve484tnW0bpM56B0LdwaWUkYctS41SzHnpGiuiablvtd569Jk8pv4cGncIQuWT0F0sbLRDqynQAnjl+Q==
  # Passphrase of the keystore
  passphrase: secret
  # The number of seconds before a lower time bound, or after an upper time bound, to consider still acceptable
  clock_skew: 300
  # Number of seconds after a message issue instant after which the message is considered expired
  expires: 300
  # Authentication method ALL for every username / password combination and USER for the configured users
  auth_method: USER
  # SAML binding type
  saml_binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect
  # Are endpoints compared. If so then pay notice to the base_url when behind a load balancer
  compare_endpoints: true
  # SAML configuration file. To use an external file, prefix path with "file:".
  saml_attributes_config_file: classpath:saml-attributes.json
  # Default attributes and values. Escaped to prevent filtering of the ':' character
  attributes:
    [urn:mace:dir:attribute-def:uid]: "john.doe"
    [urn:mace:dir:attribute-def:cn]: "John Doe"
    [urn:mace:dir:attribute-def:givenName]: "John"
    [urn:mace:dir:attribute-def:sn]: "Doe"
    [urn:mace:dir:attribute-def:displayName]: "John Doe"
    [urn:mace:dir:attribute-def:mail]: "j.doe@example.com"
    [urn:mace:terena.org:attribute-def:schacHomeOrganization]: "example.com"
    [urn:mace:dir:attribute-def:eduPersonPrincipalName]: "j.doe@example.com"
    [urn:oasis:names:tc:SAML:attribute:subject-id]: "j.doe@example.com"

acr:
  values:
    - "http://test2.surfconext.nl/assurance/loa1"
    - "http://test2.surfconext.nl/assurance/loa1.5"
    - "http://test2.surfconext.nl/assurance/loa2"
    - "http://test2.surfconext.nl/assurance/loa3"
    - "https://eduid.nl/trust/linked-institution"
    - "https://eduid.nl/trust/validate-names"
    - "https://eduid.nl/trust/affiliation-student"
    - "https://refeds.org/profile/mfa"

spring:
  datasource:
    url: jdbc:mysql://localhost:3306/saml?serverTimezone=GMT%2B8&useUnicode=true&characterEncoding=utf-8
    username: root
    password: Xyc20020327
    driver-class-name: com.mysql.cj.jdbc.Driver
  jpa:
    database: mysql
    show-sql: true
    thymeleaf:
      cache: false
    properties:
      hibernate:
        hbm2ddl:
          auto: update
  mvc:
    favicon:
      enabled: false
  velocity:
    check-template-location: False

# used by the git plugin
info:
  build:
    artifact: "@project.artifactId@"
    version: "@project.version@"

# We disable all endpoints except health for the load-balancer and info for git information.
management:
  health:
    mail:
      enabled: false
  endpoints:
    web:
      exposure:
        include: "health,info"
      base-path: "/internal"
  endpoint:
    info:
      enabled: true
  info:
    git:
      mode: full
